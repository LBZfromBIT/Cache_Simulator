# 强时间局部性测试，设计用于测试LRU/FIFO/RANDOM替换策略差异
# Cache: 128B, 块大小: 16B, 相联度: 4, 组数: 2


# 初始化填充Cache
r 0000  # 组0，块0
r 0100  # 组0，块1
r 0200  # 组0，块2
r 0300  # 组0，块3
r 0010  # 组1，块0
r 0110  # 组1，块1
r 0210  # 组1，块2
r 0310  # 组1，块3

# 定义热点地址（强时间局部性）
# 第一组热点：0x0000, 0x0010
# 第二组热点：0x0100, 0x0110

# 第一阶段：热点访问
r 0000
r 0010
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110

# 冲突访问，引入新块迫使替换
r 0400  # 组0，新块
r 0410  # 组1，新块

# 立即返回热点，测试策略保留热点能力
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110

# 引入更多冲突
r 0500  # 组0，新块
r 0510  # 组1，新块
r 0600  # 组0，新块
r 0610  # 组1，新块

# 返回热点
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110

# 重复模式多次，放大替换策略差异
# 循环1
r 0000
r 0010
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110
r 0700  # 组0，冲突块
r 0710  # 组1，冲突块
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110

# 循环2
r 0000
r 0010
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110
r 0800  # 组0，冲突块
r 0810  # 组1，冲突块
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110

# 循环3
r 0000
r 0010
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110
r 0900  # 组0，冲突块
r 0910  # 组1，冲突块
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110

# 循环4
r 0000
r 0010
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110
r 0A00  # 组0，冲突块
r 0A10  # 组1，冲突块
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110

# 循环5
r 0000
r 0010
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110
r 0B00  # 组0，冲突块
r 0B10  # 组1，冲突块
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110

# 循环6
r 0000
r 0010
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110
r 0C00  # 组0，冲突块
r 0C10  # 组1，冲突块
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110

# 多样化热点访问模式
r 0000
r 0100
r 0000
r 0100
r 0000
r 0100
r 0010
r 0110
r 0010
r 0110
r 0D00  # 组0，冲突块
r 0D10  # 组1，冲突块
r 0000
r 0100
r 0000
r 0100
r 0010
r 0110
r 0010
r 0110

# 循环7
r 0000
r 0010
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110
r 0E00  # 组0，冲突块
r 0E10  # 组1，冲突块
r 0000
r 0010
r 0000
r 0010
r 0100
r 0110
r 0100
r 0110

# 循环8 
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0F00  # 组0，冲突块
r 0F10  # 组1，冲突块
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110

# 循环9
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 1000  # 组0，冲突块
r 1010  # 组1，冲突块
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110

# 循环10
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 1100  # 组0，冲突块
r 1110  # 组1，冲突块
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110

# 极端时间局部性测试
# 重复访问热点100次
r 0000
r 0000
r 0000
r 0000
r 0000
r 0010
r 0010
r 0010
r 0010
r 0010
r 0100
r 0100
r 0100
r 0100
r 0100
r 0110
r 0110
r 0110
r 0110
r 0110

# 大量冲突访问
r 1200
r 1210
r 1300
r 1310
r 1400
r 1410
r 1500
r 1510
r 1600
r 1610
r 1700
r 1710
r 1800
r 1810
r 1900
r 1910
r 1A00
r 1A10
r 1B00
r 1B10

# 返回热点访问
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110

# 填充剩余的读操作到500次
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110
r 0000
r 0010
r 0100
r 0110

# 使用同样的访问模式，但是用写操作

# 初始化填充Cache
w 2000 1  # 组0，块0
w 2100 1  # 组0，块1
w 2200 1  # 组0，块2
w 2300 1  # 组0，块3
w 2010 1  # 组1，块0
w 2110 1  # 组1，块1
w 2210 1  # 组1，块2
w 2310 1  # 组1，块3

# 定义热点地址（强时间局部性）
# 第一组热点：0x2000, 0x2010
# 第二组热点：0x2100, 0x2110

# 第一阶段：热点访问
w 2000 1
w 2010 1
w 2000 2
w 2010 2
w 2000 3
w 2010 3
w 2100 1
w 2110 1
w 2100 2
w 2110 2
w 2000 4
w 2010 4
w 2000 5
w 2010 5
w 2100 3
w 2110 3
w 2100 4
w 2110 4

# 冲突访问，引入新块迫使替换
w 2400 1  # 组0，新块
w 2410 1  # 组1，新块

# 立即返回热点，测试策略保留热点能力
w 2000 6
w 2010 6
w 2100 5
w 2110 5
w 2000 7
w 2010 7
w 2100 6
w 2110 6
w 2000 8
w 2010 8
w 2100 7
w 2110 7

# 引入更多冲突
w 2500 1  # 组0，新块
w 2510 1  # 组1，新块
w 2600 1  # 组0，新块
w 2610 1  # 组1，新块

# 返回热点
w 2000 9
w 2010 9
w 2100 8
w 2110 8
w 2000 10
w 2010 10
w 2100 9
w 2110 9
w 2000 11
w 2010 11
w 2100 10
w 2110 10

# 重复模式多次，放大替换策略差异
# 循环1
w 2000 12
w 2010 12
w 2000 13
w 2010 13
w 2000 14
w 2010 14
w 2100 11
w 2110 11
w 2100 12
w 2110 12
w 2700 1  # 组0，冲突块
w 2710 1  # 组1，冲突块
w 2000 15
w 2010 15
w 2000 16
w 2010 16
w 2100 13
w 2110 13
w 2100 14
w 2110 14

# 循环2
w 2000 17
w 2010 17
w 2000 18
w 2010 18
w 2000 19
w 2010 19
w 2100 15
w 2110 15
w 2100 16
w 2110 16
w 2800 1  # 组0，冲突块
w 2810 1  # 组1，冲突块
w 2000 20
w 2010 20
w 2000 21
w 2010 21
w 2100 17
w 2110 17
w 2100 18
w 2110 18

# 循环3
w 2000 22
w 2010 22
w 2000 23
w 2010 23
w 2000 24
w 2010 24
w 2100 19
w 2110 19
w 2100 20
w 2110 20
w 2900 1  # 组0，冲突块
w 2910 1  # 组1，冲突块
w 2000 25
w 2010 25
w 2000 26
w 2010 26
w 2100 21
w 2110 21
w 2100 22
w 2110 22

# 循环4
w 2000 27
w 2010 27
w 2000 28
w 2010 28
w 2000 29
w 2010 29
w 2100 23
w 2110 23
w 2100 24
w 2110 24
w 2A00 1  # 组0，冲突块
w 2A10 1  # 组1，冲突块
w 2000 30
w 2010 30
w 2000 31
w 2010 31
w 2100 25
w 2110 25
w 2100 26
w 2110 26

# 循环5
w 2000 32
w 2010 32
w 2000 33
w 2010 33
w 2000 34
w 2010 34
w 2100 27
w 2110 27
w 2100 28
w 2110 28
w 2B00 1  # 组0，冲突块
w 2B10 1  # 组1，冲突块
w 2000 35
w 2010 35
w 2000 36
w 2010 36
w 2100 29
w 2110 29
w 2100 30
w 2110 30

# 循环6
w 2000 37
w 2010 37
w 2000 38
w 2010 38
w 2000 39
w 2010 39
w 2100 31
w 2110 31
w 2100 32
w 2110 32
w 2C00 1  # 组0，冲突块
w 2C10 1  # 组1，冲突块
w 2000 40
w 2010 40
w 2000 41
w 2010 41
w 2100 33
w 2110 33
w 2100 34
w 2110 34

# 多样化热点访问模式
w 2000 42
w 2100 35
w 2000 43
w 2100 36
w 2000 44
w 2100 37
w 2010 42
w 2110 35
w 2010 43
w 2110 36
w 2D00 1  # 组0，冲突块
w 2D10 1  # 组1，冲突块
w 2000 45
w 2100 38
w 2000 46
w 2100 39
w 2010 44
w 2110 37
w 2010 45
w 2110 38

# 循环7
w 2000 47
w 2010 46
w 2000 48
w 2010 47
w 2000 49
w 2010 48
w 2100 40
w 2110 39
w 2100 41
w 2110 40
w 2E00 1  # 组0，冲突块
w 2E10 1  # 组1，冲突块
w 2000 50
w 2010 49
w 2000 51
w 2010 50
w 2100 42
w 2110 41
w 2100 43
w 2110 42

# 循环8 
w 2000 52
w 2010 51
w 2100 44
w 2110 43
w 2000 53
w 2010 52
w 2100 45
w 2110 44
w 2F00 1  # 组0，冲突块
w 2F10 1  # 组1，冲突块
w 2000 54
w 2010 53
w 2100 46
w 2110 45
w 2000 55
w 2010 54
w 2100 47
w 2110 46

# 循环9
w 2000 56
w 2010 55
w 2100 48
w 2110 47
w 2000 57
w 2010 56
w 2100 49
w 2110 48
w 3000 1  # 组0，冲突块
w 3010 1  # 组1，冲突块
w 2000 58
w 2010 57
w 2100 50
w 2110 49
w 2000 59
w 2010 58
w 2100 51
w 2110 50

# 循环10
w 2000 60
w 2010 59
w 2100 52
w 2110 51
w 2000 61
w 2010 60
w 2100 53
w 2110 52
w 3100 1  # 组0，冲突块
w 3110 1  # 组1，冲突块
w 2000 62
w 2010 61
w 2100 54
w 2110 53
w 2000 63
w 2010 62
w 2100 55
w 2110 54

# 极端时间局部性测试
# 重复访问热点100次
w 2000 64
w 2000 65
w 2000 66
w 2000 67
w 2000 68
w 2010 63
w 2010 64
w 2010 65
w 2010 66
w 2010 67
w 2100 56
w 2100 57
w 2100 58
w 2100 59
w 2100 60
w 2110 55
w 2110 56
w 2110 57
w 2110 58
w 2110 59

# 大量冲突访问
w 3200 1
w 3210 1
w 3300 1
w 3310 1
w 3400 1
w 3410 1
w 3500 1
w 3510 1
w 3600 1
w 3610 1
w 3700 1
w 3710 1
w 3800 1
w 3810 1
w 3900 1
w 3910 1
w 3A00 1
w 3A10 1
w 3B00 1
w 3B10 1

# 返回热点访问
w 2000 69
w 2010 68
w 2100 61
w 2110 60
w 2000 70
w 2010 69
w 2100 62
w 2110 61
w 2000 71
w 2010 70
w 2100 63
w 2110 62
w 2000 72
w 2010 71
w 2100 64
w 2110 63
w 2000 73
w 2010 72
w 2100 65
w 2110 64

# 填充剩余的写操作到500次
w 2000 74
w 2010 73
w 2100 66
w 2110 65
w 2000 75
w 2010 74
w 2100 67
w 2110 66
w 2000 76
w 2010 75
w 2100 68
w 2110 67
w 2000 77
w 2010 76
w 2100 69
w 2110 68
w 2000 78
w 2010 77
w 2100 70
w 2110 69
w 2000 79
w 2010 78
w 2100 71
w 2110 70
w 2000 80
w 2010 79
w 2100 72
w 2110 71
w 2000 81
w 2010 80
w 2100 73
w 2110 72
w 2000 82
w 2010 81
w 2100 74
w 2110 73